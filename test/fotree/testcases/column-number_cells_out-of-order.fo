<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<fo:root xmlns:fo="http://www.w3.org/1999/XSL/Format"
         xmlns:test="http://xmlgraphics.apache.org/fop/test">
  <fo:layout-master-set>
    <fo:simple-page-master master-name="normal" page-width="5in" page-height="2in" 
          margin="20pt">
      <fo:region-body />
    </fo:simple-page-master>
  </fo:layout-master-set>
  <fo:page-sequence master-reference="normal">
    <fo:flow flow-name="xsl-region-body">
      <!-- table with explicit columns -->
      <fo:table table-layout="fixed" border-collapse="separate">
        <fo:table-column column-width="proportional-column-width(1)"
                         number-columns-repeated="5">
          <test:assert property="column-number" expected="1" />
        </fo:table-column>
        <fo:table-header>
          <fo:table-cell number-columns-spanned="5" starts-row="true" ends-row="true">
            <test:assert property="column-number" expected="1" />
            <fo:block>header cell</fo:block>
          </fo:table-cell>
        </fo:table-header>
        <fo:table-footer>
          <fo:table-cell starts-row="true" column-number="4">
            <test:assert property="column-number" expected="4" />
            <fo:block>footer cell 4</fo:block>
          </fo:table-cell>
          <fo:table-cell>
            <test:assert property="column-number" expected="5" />
            <fo:block>footer cell 5</fo:block>
          </fo:table-cell>
          <fo:table-cell column-number="1">
            <test:assert property="column-number" expected="1" />
            <fo:block>footer cell 1</fo:block>
          </fo:table-cell>
          <fo:table-cell>
            <test:assert property="column-number" expected="2" />
            <fo:block>footer cell 2</fo:block>
          </fo:table-cell>
          <fo:table-cell ends-row="true">
            <test:assert property="column-number" expected="3" />
            <fo:block>footer cell 3</fo:block>
          </fo:table-cell>
        </fo:table-footer>
        <fo:table-body>
          <fo:table-cell number-columns-spanned="2" starts-row="true">
            <test:assert property="column-number" expected="1" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell column-number="4">
            <test:assert property="column-number" expected="4" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell>
            <test:assert property="column-number" expected="5" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell column-number="3">
            <test:assert property="column-number" expected="3" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell number-rows-spanned="3" starts-row="true">
            <test:assert property="column-number" expected="1" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell>
            <test:assert property="column-number" expected="2" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell>
            <test:assert property="column-number" expected="3" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell>
            <test:assert property="column-number" expected="4" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell>
            <test:assert property="column-number" expected="5" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell number-rows-spanned="2" 
                         number-columns-spanned="2"
                         starts-row="true">
            <test:assert property="column-number" expected="2" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell>
            <test:assert property="column-number" expected="4" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell>
            <test:assert property="column-number" expected="5" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell starts-row="true">
            <test:assert property="column-number" expected="4" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell ends-row="true">
            <test:assert property="column-number" expected="5" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
        </fo:table-body>
      </fo:table>
      <!-- table with implicit columns -->
      <fo:table table-layout="fixed" border-collapse="separate">
        <fo:table-header>
          <fo:table-cell number-columns-spanned="5" starts-row="true" ends-row="true">
            <test:assert property="column-number" expected="1" />
            <fo:block>header cell</fo:block>
          </fo:table-cell>
        </fo:table-header>
        <fo:table-footer>
          <fo:table-cell starts-row="true" column-number="4">
            <test:assert property="column-number" expected="4" />
            <fo:block>footer cell 4</fo:block>
          </fo:table-cell>
          <fo:table-cell>
            <test:assert property="column-number" expected="5" />
            <fo:block>footer cell 5</fo:block>
          </fo:table-cell>
          <fo:table-cell column-number="1">
            <test:assert property="column-number" expected="1" />
            <fo:block>footer cell 1</fo:block>
          </fo:table-cell>
          <fo:table-cell>
            <test:assert property="column-number" expected="2" />
            <fo:block>footer cell 2</fo:block>
          </fo:table-cell>
          <fo:table-cell ends-row="true">
            <test:assert property="column-number" expected="3" />
            <fo:block>footer cell 3</fo:block>
          </fo:table-cell>
        </fo:table-footer>
        <fo:table-body>
          <fo:table-cell number-columns-spanned="2" starts-row="true">
            <test:assert property="column-number" expected="1" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell column-number="4">
            <test:assert property="column-number" expected="4" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell>
            <test:assert property="column-number" expected="5" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell column-number="3">
            <test:assert property="column-number" expected="3" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell number-rows-spanned="3" starts-row="true">
            <test:assert property="column-number" expected="1" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell>
            <test:assert property="column-number" expected="2" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell>
            <test:assert property="column-number" expected="3" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell>
            <test:assert property="column-number" expected="4" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell>
            <test:assert property="column-number" expected="5" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell number-rows-spanned="2" 
                         number-columns-spanned="2"
                         starts-row="true">
            <test:assert property="column-number" expected="2" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell>
            <test:assert property="column-number" expected="4" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell>
            <test:assert property="column-number" expected="5" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell starts-row="true">
            <test:assert property="column-number" expected="4" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
          <fo:table-cell ends-row="true">
            <test:assert property="column-number" expected="5" />
            <fo:block>cell-content</fo:block>
          </fo:table-cell>
        </fo:table-body>
      </fo:table>
    </fo:flow>
  </fo:page-sequence>
</fo:root>
